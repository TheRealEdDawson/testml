#!/usr/bin/env testml-switch

Diff = 1
*input.undent.compile == *output

=== 3rd assertion had wrong pick list
--- input
    *a.add(*b) == *c
    *a.add(*b) == *c
    *a.add(*b) == *c

--- output
{ "testml": "0.3.0",
  "code": [
    ["%<>",["*a","*b","*c"],
      ["==",
        [".",
          ["*","a"],
          ["add",
            ["*","b"]]],
        ["*","c"]]],
    ["%<>",["*a","*b","*c"],
      ["==",
        [".",
          ["*","a"],
          ["add",
            ["*","b"]]],
        ["*","c"]]],
    ["%<>",["*a","*b","*c"],
      ["==",
        [".",
          ["*","a"],
          ["add",
            ["*","b"]]],
        ["*","c"]]]],
  "data": []}

=== Another wrong pick list
--- input
*a.add(*b) == *c

"...": *a.add(*b) == *c

*a.add(*b) == *c
  :"..."

*a.add(*b) == *c :"..."

--- output
{ "testml": "0.3.0",
  "code": [
    ["%<>",["*a","*b","*c"],
      ["==",
        [".",
          ["*","a"],
          ["add",
            ["*","b"]]],
        ["*","c"]]],
    ["%<>",["*a","*b","*c"],
      ["==",
        [".",
          ["*","a"],
          ["add",
            ["*","b"]]],
        ["*","c"],
        "..."]],
    ["%<>",["*a","*b","*c"],
      ["==",
        [".",
          ["*","a"],
          ["add",
            ["*","b"]]],
        ["*","c"],
        "..."]],
    ["%<>",["*a","*b","*c"],
      ["==",
        [".",
          ["*","a"],
          ["add",
            ["*","b"]]],
        ["*","c"],
        "..."]]],
  "data": []}
